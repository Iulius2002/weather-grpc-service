syntax = "proto3";

package weather;

// Request from client to server
message WeatherRequest {
  string city = 1; // requested city name
}

// Server response for current weather
message WeatherResponse {
  string city = 1;                 // normalized city name (e.g., "London")
  double temperature_celsius = 2;  // current temperature in Â°C
  string description = 3;          // e.g., "clear sky", "light rain"
  int32 humidity = 4;              // in %
  double wind_speed = 5;           // m/s
  string timestamp = 6;            // ISO8601, e.g., "2025-11-10T12:34:56Z"
}

// Forecast entry (3h step as provided by OpenWeather)
message ForecastEntry {
  string timestamp = 1;
  double temperature_celsius = 2;
  string description = 3;
  int32 humidity = 4;
  double wind_speed = 5;
}

// Forecast response
message ForecastResponse {
  string city = 1;
  repeated ForecastEntry entries = 2;
}

// Weather gRPC service definition
service WeatherService {
  rpc GetCurrentWeather (WeatherRequest) returns (WeatherResponse);
  rpc GetForecast       (WeatherRequest) returns (ForecastResponse);
}